---
allowed-tools: Read(*), Write(*), Edit(*), mcp__memory__*, mcp__thinking__*
error-handling: comprehensive-framework, documentation-creation-validation, file-operation-handling, content-organization-processing, memory-integration-handling, format-handling, recovery-procedures
description: Create and maintain comprehensive documentation using accumulated project knowledge, applying systematic documentation patterns and building persistent documentation intelligence.
---

# Document

## Context

This command provides persistent documentation intelligence by systematically creating, maintaining, and evolving comprehensive documentation using accumulated project knowledge, established patterns, and systematic thinking approaches. It transforms project intelligence into structured documentation while building documentation intelligence for future reference.

## Your Task

Execute the following steps to create comprehensive documentation:

1. **Initialize sequential thinking**: Use `mcp__thinking__sequentialthinking` to plan the documentation approach systematically
   - **Error Handling**: Handle thinking process initialization failures and timeout issues
   - **Recovery**: Use simplified documentation planning or direct documentation creation

2. **Read documentation memory**: Use `mcp__memory__read_graph` to understand existing documentation intelligence and patterns
   - **Error Handling**: Handle memory server connectivity issues and graph corruption
   - **Validation**: Verify memory graph integrity and documentation history availability
   - **Recovery**: Use `/meditate` for memory repair or initialize with minimal documentation context

3. **Analyze project context**: Use `Read` to assess current project state and documentation needs
   - **Error Handling**: Handle file access failures and content analysis issues
   - **Validation**: Verify project files are accessible and readable
   - **Recovery**: Use alternative project analysis methods or request user guidance

4. **Identify documentation gaps**: Determine what documentation is missing or needs updating
   - **Error Handling**: Handle gap analysis failures and requirement identification issues
   - **Recovery**: Use basic documentation assessment or request user clarification

5. **Design documentation structure**: Create information architecture based on project patterns
   - **Error Handling**: Handle structure design failures and architecture planning issues
   - **Recovery**: Use simplified documentation structure or standard templates

6. **Transform knowledge**: Convert technical knowledge into accessible documentation content
   - **Error Handling**: Handle knowledge transformation failures and content generation issues
   - **Recovery**: Use simplified content creation or basic documentation formats

7. **Apply patterns**: Use established documentation templates and style conventions
   - **Error Handling**: Handle pattern application failures and template processing issues
   - **Recovery**: Use basic formatting or manual pattern application

8. **Create documentation**: Use `Write` and `Edit` to generate comprehensive documentation
   - **Error Handling**: Handle file creation failures and editing operation issues
   - **Validation**: Verify documentation files are created and properly formatted
   - **Recovery**: Use alternative file operations or simplified documentation creation

9. **Update memory**: Store documentation patterns and structures using `mcp__memory__*` tools
   - **Error Handling**: Handle memory storage failures and documentation integration issues
   - **Recovery**: Use alternative memory storage or simplified documentation tracking

10. **Deliver documentation**: Generate final documentation in appropriate formats and locations
    - **Error Handling**: Handle documentation delivery failures and format conversion issues
    - **Recovery**: Use simplified delivery methods or basic documentation formats

## Error Handling

### Tool Result Validation
- **File Operations**: Verify all `Read`, `Write`, and `Edit` operations for file access and permission issues
- **Memory Operations**: Verify all `mcp__memory__*` tool results for errors, corruption, and timeout issues
- **Thinking Operations**: Handle sequential thinking timeouts or reasoning failures
- **Documentation Creation**: Check file creation and editing operations for completeness
- **Content Organization**: Validate content structuring and formatting accuracy
- **Format Handling**: Verify documentation format conversion and delivery

### Standard Error Response Format
```
ERROR: [Category] - [Specific Issue]
Context: [Operation being attempted]
Cause: [Root cause if identifiable]
Recovery: [Specific recovery steps]
```

### Recovery Procedures
1. **File Operation Failures**:
   - Check file permissions and accessibility
   - Use alternative file operations or locations
   - Continue with available file content
   - Request user guidance for file access issues

2. **Memory Operation Failures**:
   - Check memory server connectivity and permissions
   - Use `/meditate` command for memory corruption repair
   - Continue with session-local documentation tracking
   - Use simplified memory integration

3. **Documentation Creation Issues**:
   - Use alternative file creation methods
   - Apply simplified documentation creation approach
   - Continue with basic documentation formats
   - Request user preferences for documentation structure

4. **Content Organization Problems**:
   - Use simplified content organization approach
   - Apply basic documentation structure
   - Continue with standard templates
   - Request user guidance for content organization

5. **Format Handling Failures**:
   - Use basic documentation formats
   - Apply simplified format conversion
   - Continue with plain text documentation
   - Document format limitations clearly

### Context Preservation
- Save documentation progress before error recovery attempts
- Maintain documentation structure and content through error conditions
- Document error context and recovery attempts for learning
- Preserve partial documentation results during error recovery

## Verification

- **Pre-Documentation**: Verify file system access and system tool availability
- **During Process**: Validate each operation and handle failures immediately
- **Documentation Completeness**: Confirm documentation is comprehensive and covers all required topics
- **Pattern Compliance**: Verify documentation follows project patterns and style conventions
- **Content Accuracy**: Check that examples and code snippets are current and accurate
- **Audience Effectiveness**: Ensure documentation serves intended audiences effectively
- **Memory Integration**: Validate documentation intelligence was updated in memory
- **Error Handling**: Confirm error handling provided clear feedback and recovery options

## Output

The command should produce:

- **Comprehensive documentation**: Appropriate formats (markdown, etc.) with complete coverage
- **Updated documentation intelligence**: Project memory integration for future reference
- **Pattern-compliant documentation**: Follows established patterns and conventions
- **Practical examples**: Tutorials and guidance with current, accurate content
- **Accessible documentation**: Serves intended audiences effectively with clear organization
- **Error handling**: Clear error messages using standard format with specific recovery guidance
- **Recovery documentation**: Record of any errors encountered and recovery procedures applied
- **Context preservation**: Documentation of preserved documentation context during error conditions

### Error Response Examples

**File Operation Failure**:
```
ERROR: File Operation - Documentation creation failed
Context: Creating documentation using Write tool
Cause: File permissions or disk space issues
Recovery:
1. Check file permissions and accessibility
2. Use alternative file locations or operations
3. Continue with simplified documentation creation
```

**Content Organization Error**:
```
ERROR: Content Organization - Structure design failed
Context: Creating information architecture based on project patterns
Cause: Project complexity exceeded organization capabilities
Recovery:
1. Use simplified content organization approach
2. Apply basic documentation structure
3. Request user guidance for content organization
```

**Memory Integration Failure**:
```
ERROR: Memory Operation - Documentation storage failed
Context: Storing documentation patterns and structures in memory
Cause: Memory server connectivity issues or storage limitations
Recovery:
1. Use alternative memory storage methods
2. Continue with session-local documentation tracking
3. Use /meditate command for memory repair
```